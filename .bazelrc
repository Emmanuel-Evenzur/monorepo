# Configuration to build and test Bazel itself on RBE.
build:ubuntu1804_java11 --host_javabase=@rbe_ubuntu1804_java11//java:jdk
build:ubuntu1804_java11 --javabase=@rbe_ubuntu1804_java11//java:jdk
build:ubuntu1804_java11 --host_java_toolchain=@bazel_tools//tools/jdk:toolchain_java9
build:ubuntu1804_java11 --java_toolchain=@bazel_tools//tools/jdk:toolchain_java9
build:ubuntu1804_java11 --crosstool_top=@rbe_ubuntu1804_java11//cc:toolchain

build:ubuntu1804_java11 --extra_toolchains=@rbe_ubuntu1804_java11//config:cc-toolchain
build:ubuntu1804_java11 --extra_execution_platforms=//:rbe_ubuntu1804_java11_platform
build:ubuntu1804_java11 --extra_execution_platforms=//:rbe_ubuntu1804_java11_highcpu_platform
build:ubuntu1804_java11 --host_platform=//:rbe_ubuntu1804_java11_platform
build:ubuntu1804_java11 --platforms=//:rbe_ubuntu1804_java11_platform

build:ubuntu1804_java11 --define=EXECUTOR=remote

build:ubuntu1804_java11 --remote_instance_name=projects/bazel-untrusted/instances/default_instance
build:ubuntu1804_java11 --remote_executor=grpcs://remotebuildexecution.googleapis.com
build:ubuntu1804_java11 --remote_timeout=600
build:ubuntu1804_java11 --google_default_credentials

build:ubuntu1804_java11 --jobs=100
build:ubuntu1804_java11 --action_env=PATH=/bin:/usr/bin:/usr/local/bin
build:ubuntu1804_java11 --disk_cache=
# Workaround for singlejar incompatibility with RBE
build:ubuntu1804_java11 --noexperimental_check_desugar_deps

build:remote --config=ubuntu1804_java11

# Flags for Android
build --android_aapt=aapt2 # Turn aapt2 on by default for Bazel's own Android builds and tests.
